<html>
  <head>
    <script src="node_modules/webmidi/webmidi.min.js"></script>
    <script src="js/markovDuration.js"></script>
    <script src="js/bigramNote.js"></script>
    <script src="js/playMusic.js"></script>
    <script src="js/metrics.js"></script>
  </head>
  <body>
    <div>
      <button type="button" onclick="start()">start</button>
      <button type="button" onclick="stop()">stop</button>
    </div>
    <div id="generate_music"></div>

    <script type="text/javascript">

    WebMidi.enable(function (err) {
      var output = WebMidi.outputs[0];
      var input = WebMidi.inputs[0];
      //console.log(WebMidi.inputs[0]);
      //output.playNote("C4");
      input.addListener('noteon', 1,
         function (e) {
           readNote(WebMidi.noteNameToNumber(e.note.name + e.note.octave));
           start_duration((e.note.name + e.note.octave), e.timestamp);
         }
        );
      input.addListener('noteoff', 1,
        function (e) {
          stop_duration((e.note.name + e.note.octave), e.timestamp);
        });
      });

    </script>
  </body>
</html>
